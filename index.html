<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multiple file upload</title>
  </head>
  <body>
    <form method="post" action="insert.php" enctype="multipart/form-data">
      <input
        type="file"
        name="img[]"
        id="file_input"
        accept="image/*"
        required
        multiple
      />
      <button type="submit">ÈÄÅ‰ø°„Åô„Çã</button>
    </form>

    <!-- üëá„Åì„Åì„Å´„Éó„É¨„Éì„É•„ÉºÁîªÂÉè„ÇíËøΩÂä†„Åô„Çã -->
    <div id="preview"></div>

    <!-- javascript -->
    <!-- <script src="./functions/handleFileSelect.js"></script> -->
    <script>
      let preUploadFiles = [];

      const fileInput = document.getElementById("file_input");
      const handleFileSelect = () => {
        const files = fileInput.files;
        for (let i = 0; i < files.length; i++) {
          preUploadFiles.push(files[i]); //Êñ∞„Åó„Åè„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Åï„Çå„ÅüÁîªÂÉè„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„ÉâÂæÖ„Å°„ÅÆÈÖçÂàó„Å´push
          const set = new Set(preUploadFiles); // ÂÄ§„Åå‰∏ÄÊÑè„Å™„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åß„ÅÇ„ÇãSet„Å´Â§âÊèõ
          preUploadFiles = Array.from(set); // Set„Åã„ÇâÈÖçÂàó„Å´Êàª„Åô
        }
        console.log(preUploadFiles);
      };
      fileInput.addEventListener("change", handleFileSelect);
    </script>
  </body>
</html>
